
===============================================================
                    ­ƒîÉ Starting Web Interface
===============================================================

[INFO] Checking virtual environment...
[INFO] Activating virtual environment...
[INFO] Checking Python...
[SUCCESS] Virtual environment activated successfully

[INFO] Starting Web Interface (Flet)...
[INFO] Backend will start on: http://localhost:8000
[INFO] Web UI will start on: http://localhost:8550
[INFO] Browser will open automatically

­ƒÆí Press Ctrl+C to stop the application

2025-08-24 18:01:14 - config.logging_config - INFO - Logging configured with level: INFO
2025-08-24 18:01:14 - __main__ - INFO - 🖥️  WhatsApp AI Chatbot - Windows Launcher
2025-08-24 18:01:14 - __main__ - INFO - 🖥️  Starting Windows full application...

============================================================
🖥️  WhatsApp AI Chatbot - Windows Edition
============================================================
💻 Platform: Windows (nt)
🌐 Browser: chrome.exe
📂 Working Dir: D:\03_GIT\02_Python\04_AI_Chatbot

📍 Application URLs:
   🚀 Backend API: http://localhost:8000
   📖 API Docs: http://localhost:8000/docs
   🖥️  UI App: http://localhost:8550

🎯 Browser will open automatically!
============================================================
2025-08-24 18:01:14 - __main__ - INFO - ⏳ Waiting for backend to start...
D:\03_GIT\02_Python\04_AI_Chatbot\src\utils\dependencies.py:32: UserWarning: No SECRET_KEY found in environment variables. Using auto-generated key. Set SECRET_KEY environment variable for production.
  warnings.warn(
2025-08-24 18:01:15 - __main__ - INFO - 🚀 Starting Windows backend on 0.0.0.0:8000
2025-08-24 18:01:15 - src.main - INFO - Starting WhatsApp AI Chatbot API server...
2025-08-24 18:01:15 - src.api.websocket - INFO - Initializing WebSocket manager
2025-08-24 18:01:15 - src.main - INFO - WebSocket manager initialized
2025-08-24 18:01:15 - src.main - INFO - Database connection established
2025-08-24 18:01:15 - src.main - INFO - Application startup completed successfully
2025-08-24 18:01:17 - __main__ - INFO - ✅ Backend ready
2025-08-24 18:01:17 - __main__ - INFO - 🌐 Browser opening: http://localhost:8550
2025-08-24 18:01:17 - __main__ - INFO - 🖥️  Starting UI server...
2025-08-24 18:01:18 - __main__ - INFO - 🖥️  Windows environment detected
2025-08-24 18:01:18 - __main__ - INFO - 🌐 Starting UI server on Windows...
2025-08-24 18:01:18 - __main__ - INFO - 📝 URL: http://localhost:8550
2025-08-24 18:01:18 - flet_runtime - INFO - Assets path configured: D:\03_GIT\02_Python\04_AI_Chatbot\assets
2025-08-24 18:01:18 - flet_runtime - INFO - Starting local Flet Server on port 8550...
2025-08-24 18:01:18 - flet_runtime - INFO - Flet Server found in: D:\03_GIT\02_Python\04_AI_Chatbot\venv\Lib\site-packages\flet\bin\fletd.exe
2025-08-24 18:01:18 - flet_runtime - INFO - Host binding configured: 127.0.0.1
2025-08-24 18:01:18 - flet_runtime - INFO - Web renderer configured: canvaskit
2025-08-24 18:01:18 - flet_runtime - INFO - Use color emoji: False
2025-08-24 18:01:18 - flet_runtime - INFO - Route URL strategy configured: path
INFO[2025-08-24T18:01:18+02:00] Using in-memory cache
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:   export GIN_MODE=release
 - using code:  gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /ws                       --> github.com/flet-dev/flet/server/server.Start.func1 (4 handlers)
[GIN-debug] GET    /api/                     --> github.com/flet-dev/flet/server/server.Start.func2 (4 handlers)
[GIN-debug] GET    /api/oauth/redirect       --> github.com/flet-dev/flet/server/server.oauthCallbackHandler (4 handlers)
[GIN-debug] PUT    /api/upload               --> github.com/flet-dev/flet/server/server.uploadFileAsStream (4 handlers)
INFO[2025-08-24T18:01:18+02:00] Starting server on 127.0.0.1:8550
INFO[2025-08-24T18:01:18+02:00] Starting background tasks...
INFO[2025-08-24T18:01:18+02:00] Start background task to cleanup expired data
[GIN] 2025/08/24 - 18:01:18 | 200 |       926.3µs |       127.0.0.1 | GET      "/"
[GIN] 2025/08/24 - 18:01:18 | 304 |       576.8µs |       127.0.0.1 | GET      "/flutter.js"
INFO[2025-08-24T18:01:18+02:00] New WebSocket client connected from 127.0.0.1: 3d7daf31-5a33-4f48-bf2a-9dc2be590716
[GIN] 2025/08/24 - 18:01:18 | 200 |      1.0935ms |       127.0.0.1 | GET      "/ws"
INFO[2025-08-24T18:01:18+02:00] registerHostClient()
INFO[2025-08-24T18:01:18+02:00] Registering Host client: 3d7daf31-5a33-4f48-bf2a-9dc2be590716
INFO[2025-08-24T18:01:18+02:00] Registering host client 3d7daf31-5a33-4f48-bf2a-9dc2be590716 to handle 'p/index' sessions
2025-08-24 18:01:18 - flet_runtime - INFO - App URL: http://127.0.0.1:8550
2025-08-24 18:01:18 - flet_runtime - INFO - Connected to Flet app and handling user sessions...
[GIN] 2025/08/24 - 18:01:18 | 200 |           1ms |       127.0.0.1 | GET      "/"
INFO[2025-08-24T18:01:19+02:00] New WebSocket client connected from 127.0.0.1: 9f444bde-8834-41dd-b4ed-ba6347c4ed86
[GIN] 2025/08/24 - 18:01:19 | 200 |       1.022ms |       127.0.0.1 | GET      "/ws"
INFO[2025-08-24T18:01:19+02:00] registerWebClient()
INFO[2025-08-24T18:01:19+02:00] Registering Web client: 9f444bde-8834-41dd-b4ed-ba6347c4ed86
INFO[2025-08-24T18:01:19+02:00] Registering Web client 9f444bde-8834-41dd-b4ed-ba6347c4ed86 to session p/index:c10aa1d2-c08c-41da-8e8f-ef6ef8ee47bb
2025-08-24 18:01:19 - flet_runtime - INFO - Session started: c10aa1d2-c08c-41da-8e8f-ef6ef8ee47bb
2025-08-24 18:01:19 - __main__ - ERROR - ChatApp error: module 'flet' has no attribute 'Icons'
Unhandled error processing page session c10aa1d2-c08c-41da-8e8f-ef6ef8ee47bb: Traceback (most recent call last):
  File "D:\03_GIT\02_Python\04_AI_Chatbot\start_windows.py", line 95, in main
    await app.main(page)
  File "D:\03_GIT\02_Python\04_AI_Chatbot\src\ui\chat_app.py", line 55, in main
    await self.setup_layout()
  File "D:\03_GIT\02_Python\04_AI_Chatbot\src\ui\chat_app.py", line 106, in setup_layout
    content=self.sidebar.build(),
            ^^^^^^^^^^^^^^^^^^^^
  File "D:\03_GIT\02_Python\04_AI_Chatbot\src\ui\components\sidebar.py", line 52, in build
    icon=ft.Icons.MENU,
         ^^^^^^^^
AttributeError: module 'flet' has no attribute 'Icons'. Did you mean: 'icons'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\03_GIT\02_Python\04_AI_Chatbot\venv\Lib\site-packages\flet_runtime\app.py", line 448, in on_session_created
    await session_handler(page)
  File "D:\03_GIT\02_Python\04_AI_Chatbot\start_windows.py", line 98, in main
    page.add(ft.Text(f"UI Error: {e}", color="red"))
  File "D:\03_GIT\02_Python\04_AI_Chatbot\venv\Lib\site-packages\flet_core\page.py", line 306, in add
    r = self.__update(self)
        ^^^^^^^^^^^^^^^^^^^
  File "D:\03_GIT\02_Python\04_AI_Chatbot\venv\Lib\site-packages\flet_core\page.py", line 424, in __update
    results = self.__conn.send_commands(self._session_id, commands).results
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\03_GIT\02_Python\04_AI_Chatbot\venv\Lib\site-packages\flet_core\connection.py", line 27, in send_commands
    raise NotImplementedError()
NotImplementedError

INFO[2025-08-24T18:01:19+02:00] New WebSocket client connected from 127.0.0.1: dd780b68-56e2-4aff-a350-ae70e665ca00
[GIN] 2025/08/24 - 18:01:19 | 200 |       373.8µs |       127.0.0.1 | GET      "/ws"
INFO[2025-08-24T18:01:19+02:00] registerWebClient()
INFO[2025-08-24T18:01:19+02:00] Registering Web client: dd780b68-56e2-4aff-a350-ae70e665ca00
INFO[2025-08-24T18:01:19+02:00] Registering Web client dd780b68-56e2-4aff-a350-ae70e665ca00 to session p/index:a6a02366-6a2f-46f4-90bf-babc711b380d
2025-08-24 18:01:19 - flet_runtime - INFO - Session started: a6a02366-6a2f-46f4-90bf-babc711b380d
2025-08-24 18:01:19 - __main__ - ERROR - ChatApp error: module 'flet' has no attribute 'Icons'
Unhandled error processing page session a6a02366-6a2f-46f4-90bf-babc711b380d: Traceback (most recent call last):
  File "D:\03_GIT\02_Python\04_AI_Chatbot\start_windows.py", line 95, in main
    await app.main(page)
  File "D:\03_GIT\02_Python\04_AI_Chatbot\src\ui\chat_app.py", line 55, in main
    await self.setup_layout()
  File "D:\03_GIT\02_Python\04_AI_Chatbot\src\ui\chat_app.py", line 106, in setup_layout
    content=self.sidebar.build(),
            ^^^^^^^^^^^^^^^^^^^^
  File "D:\03_GIT\02_Python\04_AI_Chatbot\src\ui\components\sidebar.py", line 52, in build
    icon=ft.Icons.MENU,
         ^^^^^^^^
AttributeError: module 'flet' has no attribute 'Icons'. Did you mean: 'icons'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\03_GIT\02_Python\04_AI_Chatbot\venv\Lib\site-packages\flet_runtime\app.py", line 448, in on_session_created
    await session_handler(page)
  File "D:\03_GIT\02_Python\04_AI_Chatbot\start_windows.py", line 98, in main
    page.add(ft.Text(f"UI Error: {e}", color="red"))
  File "D:\03_GIT\02_Python\04_AI_Chatbot\venv\Lib\site-packages\flet_core\page.py", line 306, in add
    r = self.__update(self)
        ^^^^^^^^^^^^^^^^^^^
  File "D:\03_GIT\02_Python\04_AI_Chatbot\venv\Lib\site-packages\flet_core\page.py", line 424, in __update
    results = self.__conn.send_commands(self._session_id, commands).results
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\03_GIT\02_Python\04_AI_Chatbot\venv\Lib\site-packages\flet_core\connection.py", line 27, in send_commands
    raise NotImplementedError()
NotImplementedError

[GIN] 2025/08/24 - 18:01:20 | 304 |      2.2489ms |       127.0.0.1 | GET      "/flutter_service_worker.js?v=3554908826"
[GIN] 2025/08/24 - 18:01:20 | 304 |      1.1167ms |       127.0.0.1 | GET      "/flutter_service_worker.js?v=3554908826"
panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xc0000005 code=0x0 addr=0x8 pc=0xa07d80]

goroutine 58 [running]:
github.com/flet-dev/flet/server/page.(*sessionHandler).extendExpiration(0xc000893f60)
        /home/appveyor/projects/flet/server/page/session_handler.go:84 +0x20
github.com/flet-dev/flet/server/page.(*Client).register.func2()
        /home/appveyor/projects/flet/server/page/client.go:117 +0x205
created by github.com/flet-dev/flet/server/page.(*Client).register
        /home/appveyor/projects/flet/server/page/client.go:106 +0x1f6
2025-08-24 18:01:24 - flet - ERROR - Task-11 threw no close frame received or sent